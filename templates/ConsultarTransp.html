<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Transportador Ruta</title>
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap">
</head>
<body>
    <header>
        <div class="header-container">
            <a href="../Inicio.html" class="logo-link">
                <div class="logo-container">
                    <img src="../../../img/SIGEPIXTECA.png" id="imgTeca" alt="Logo">
                </div>
            </a>
            <h1>TRANSPORTADOR</h1>
            <div class="menu-button-container">
                <button class="menu-button">&#9776;</button>
                <div class="dropdown-menu">
                    <a href="../Historial/historial.html" class="dropdown-item">Consultar historial</a>
                    <a href="../ConsultarRuta/Consultar.html" class="dropdown-item">Consultar ruta</a>
                    <a href="../Perfil/Perfil.html" class="dropdown-item">Mi perfil</a>
                    <a href="../../../index.html" class="dropdown-item">Salir</a>
                </div>
            </div>
        </div>
    </header>

    <div class="container">
        <section class="content-section">
            <div class="main-container">
                <div class="left-container">
                    <!-- Mapa de Google Maps -->
                    <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d12618.64345911068!2d-74.05832507887264!3d4.609710984689291!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x8e3f8e5d5e08d2b5%3A0x282d14a9cf4f3f09!2sBogot%C3%A1%2C%20Colombia!5e0!3m2!1ses!2ses!4v1638280245787!5m2!1ses!2ses" 
                            width="100%" 
                            height="300" 
                            style="border: 2px solid black; border-radius: 10px;"
                            allowfullscreen="" 
                            loading="lazy"></iframe>
                </div>
                <div class="right-container">
                    <div class="info-section">
                        <h2>Información de Entrega</h2>
                    </div>
                    <div class="info-subcontainer">
                        <h3>Punto de Entrega</h3>
                        <p>Hora: 10:00 AM</p>
                        <p>Contacto: 123-456-7890</p>
                        <p>Descripción: Entrega en la sede principal de CEMEX.</p>
                        <h3>Punto de Recogida</h3>
                        <p>Hora: 03:00 PM</p>
                        <p>Contacto: 987-654-3210</p>
                        <p>Descripción: Recogida en el almacén de distribución.</p>
                        <h3>Descripción del Pedido</h3>
                        <p>Descripción detallada del pedido realizado, incluyendo todas las especificaciones necesarias.</p>
                    </div>
                    <div class="button-container">
                        <button id="reportButton" class="report-button" onclick="window.location.href='./Reporte/reporte.html';">Generar Reporte</button>
                        <button id="endRouteButton" class="end-route-button" onclick="openEndRouteDialog();">Terminar Ruta</button>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <!-- Icono de regresar -->
    <a href="../Inicio.html" class="regresar">
        <img src="../../../img/Regresar.png" alt="Regresar">
    </a>

    <!-- Campana de notificaciones -->
    <div class="notification-bell" onclick="toggleNotificationBox()">
        <img src="../../../img/Notificaciones.png" alt="Notificaciones">
    </div>

    <!-- Cuadro de historial de notificaciones -->
    <div class="notification-box" id="notificationBox">
        <ul>
            <li><a href="notificacion.html">Notificación 1</a></li>
            <li><a href="notificacion.html">Notificación 2</a></li>
            <li><a href="notificacion.html">Notificación 3</a></li>
        </ul>
    </div>
<!-- Cuadro de confirmación de terminar ruta -->
<div id="endRouteDialog" class="dialog-overlay">
    <div class="dialog-content">
        <p>¿Está seguro de que desea terminar la ruta?</p>
        <button id="confirmEndRoute" class="dialog-button confirm">Aceptar</button>
        <button id="cancelEndRoute" class="dialog-button cancel">Cancelar</button>
    </div>
</div>

<script>
    // Obtener elementos del DOM
    const endRouteDialog = document.getElementById('endRouteDialog');
    const cancelEndRouteButton = document.getElementById('cancelEndRoute');
    const confirmEndRouteButton = document.getElementById('confirmEndRoute');

    // Función para cerrar el cuadro de diálogo
    function closeDialog() {
        endRouteDialog.style.display = 'none';
    }

    // Función para redirigir a inicio.html
    function redirectToHome() {
        window.location.href = '../Inicio.html';
    }

    // Asignar eventos a los botones
    cancelEndRouteButton.addEventListener('click', closeDialog);
    confirmEndRouteButton.addEventListener('click', redirectToHome);
</script>

<script>
        function toggleNotificationBox() {
            var notificationBox = document.getElementById('notificationBox');
            var bell = document.querySelector('.notification-bell img');
            
            if (notificationBox.style.display === 'none' || notificationBox.style.display === '') {
                notificationBox.style.display = 'block';
                bell.style.transform = 'scale(1.2)';
            } else {
                notificationBox.style.display = 'none';
                bell.style.transform = 'scale(1)';
            }
        }

        function openEndRouteDialog() {
            document.getElementById('endRouteDialog').style.display = 'flex';
        }

        document.getElementById('confirmEndRoute').onclick = function() {
            alert("Ruta terminada.");
            document.getElementById('endRouteDialog').style.display = 'none';

        }

</script>
</body>
</html>
